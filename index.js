// Copyright (c) 2023 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
var r,e;r=this,e=function(){"use strict";var r="function"==typeof Object.defineProperty?Object.defineProperty:null,e=Object.defineProperty,t=Object.prototype,n=t.toString,o=t.__defineGetter__,u=t.__defineSetter__,a=t.__lookupGetter__,f=t.__lookupSetter__,i=function(){try{return r({},"x",{}),!0}catch(r){return!1}}()?e:function(r,e,i){var c,l,s,p;if("object"!=typeof r||null===r||"[object Array]"===n.call(r))throw new TypeError("invalid argument. First argument must be an object. Value: `"+r+"`.");if("object"!=typeof i||null===i||"[object Array]"===n.call(i))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+i+"`.");if((l="value"in i)&&(a.call(r,e)||f.call(r,e)?(c=r.__proto__,r.__proto__=t,delete r[e],r[e]=i.value,r.__proto__=c):r[e]=i.value),s="get"in i,p="set"in i,l&&(s||p))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return s&&o&&o.call(r,e,i.get),p&&u&&u.call(r,e,i.set),r};function c(r,e,t){i(r,e,{configurable:!1,enumerable:!1,writable:!1,value:t})}function l(r,e){return"column-major"===e?function(r){var e,t,n;for(e=[],t=1,n=0;n<r.length;n++)e.push(t),t*=r[n];return e}(r):function(r){var e,t,n,o;for(e=r.length,t=[],o=0;o<e;o++)t.push(0);for(n=1,o=e-1;o>=0;o--)t[o]=n,n*=r[o];return t}(r)}function s(r,e,t,n,o,u){var a,f,i,c,l;for(a=r.length,f=1,l=0;l<a;l++)f*=r[l];if("clamp"===u)o<0?o=0:o>=f&&(o=f-1);else if("wrap"===u)o<0?(o+=f)<0&&0!=(o%=f)&&(o+=f):o>=f&&(o-=f)>=f&&(o%=f);else if(o<0||o>=f)throw new RangeError("invalid argument. Linear index must not exceed array dimensions. Number of array elements: "+f+". Value: `"+o+"`.");if(i=t,"column-major"===n){for(l=0;l<a;l++)o-=c=o%r[l],o/=r[l],i+=c*e[l];return i}for(l=a-1;l>=0;l--)o-=c=o%r[l],o/=r[l],i+=c*e[l];return i}c(l,"assign",(function(r,e,t){return"column-major"===e?function(r,e){var t,n;for(t=1,n=0;n<r.length;n++)e[n]=t,t*=r[n];return e}(r,t):function(r,e){var t,n;for(t=1,n=r.length-1;n>=0;n--)e[n]=t,t*=r[n];return e}(r,t)}));var p=Math.floor;function d(r,e){return r[e]}function _(r,e){return r.get(e)}function v(r,e,t){r[e]=t}function g(r,e,t){r.set(t,e)}function m(r){var e=Boolean(r.get&&r.set);return{data:r,accessors:e,getter:e?_:d,setter:e?g:v}}function h(r,e,t,n){var o,u,a,f,i,c,l,s;for(o=e.data,u=e.setter,a=e.getter,l=p(r/2),c=(i=n)+(r-1)*t,s=0;s<l;s++)f=a(o,i),u(o,i,a(o,c)),u(o,c,f),i+=t,c-=t;return e}function y(r,e,t){var n,o,u,a,f,i,c;if(r<=0)return e;if((a=m(e)).accessors)return h(r,a,t,o=t<0?(1-r)*t:0),a.data;if(i=p(r/2),1===t){if(u=r-1,(f=i%3)>0)for(o=0;o<f;o++)n=e[o],e[o]=e[u],e[u]=n,u-=1;if(i<3)return e;for(o=f;o<i;o+=3)n=e[o],e[o]=e[u],e[u]=n,n=e[o+1],e[o+1]=e[u-1],e[u-1]=n,n=e[o+2],e[o+2]=e[u-2],e[u-2]=n,u-=3;return e}for(u=(o=t<0?(1-r)*t:0)+(r-1)*t,c=0;c<i;c++)n=e[o],e[o]=e[u],e[u]=n,o+=t,u-=t;return e}function b(r,e,t){var n;for(n=0;n<t;n++)r.push(e[n]);return r}function j(r,e,t,n,o){var u,a,f,i;for(u=(f=o+1)===t,a=n[o],i=0;i<a;i++)u?r.push(e[i]):j(r,e[i],t,n,f);return r}return c(y,"ndarray",(function(r,e,t,n){var o,u,a,f,i,c,l;if(r<=0)return e;if((f=m(e)).accessors)return h(r,f,t,n),f.data;if(c=p(r/2),u=n,1===t){if(a=u+r-1,(i=c%3)>0)for(l=0;l<i;l++)o=e[u],e[u]=e[a],e[a]=o,u+=t,a-=t;if(c<3)return e;for(l=i;l<c;l+=3)o=e[u],e[u]=e[a],e[a]=o,o=e[u+1],e[u+1]=e[a-1],e[a-1]=o,o=e[u+2],e[u+2]=e[a-2],e[a-2]=o,u+=3,a-=3;return e}for(a=u+(r-1)*t,l=0;l<c;l++)o=e[u],e[u]=e[a],e[a]=o,u+=t,a-=t;return e})),function(r,e,t){var n,o;return o=[],0===(n=e.length)?o:1===n?b(o,r,e[0]):t?function(r,e,t,n){var o,u,a,f,i,c,p;for(u=j([],e,t,n,0),o=function(r){var e,t,n;if(0===(e=r.length))return 0;for(t=1,n=0;n<e;n++)t*=r[n];return t}(n),i=l(n,a="row-major"),y(t,f=b([],n,t),1),y(t,i,1),p=0;p<o;p++)c=s(f,i,0,a,p,"throw"),r.push(u[c]);return r}(o,r,n,e):j(o,r,n,e,0)}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(r="undefined"!=typeof globalThis?globalThis:r||self).flatten=e();
//# sourceMappingURL=index.js.map
